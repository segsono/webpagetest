<!DOCTYPE HTML>
<html lang="ja">
<head>
<title>ProblemA1-1</title>
<!script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js?lang=css&skin=sunburst"><!/script>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
<link rel="stylesheet" type="text/css" href="./prettify.css">
<!link rel="stylesheet" type="text/css" href="./float.css">
</head>
<body>

<pre class="prettyprint linenums lang-java">
public class FigModifyingModeImpl extends ModeImpl implements FigModifyingMode {
    protected Editor editor;
}

public class ModePlace extends FigModifyingModeImpl {

    public void mousePressed(MouseEvent me) {
        editor = Globals.<a href="#curEditor" name="rcurEditor">curEditor()</a>;
        GraphNodeRenderer renderer = editor.<a href="#getGraphNodeRenderer" name="rgetGraphNodeRenderer">getGraphNodeRenderer()</a>;
        Layer lay = editor.<a href="#getLayerManager" name="rgetLayerManager">getLayerManager()</a>.<a href="#getActiveLayer2" name="rgetActiveLayer2">getActiveLayer()</a>;
        _pers = renderer.<a href="#getFigNodeFor" name="rgetFigNodeFor">getFigNodeFor(gm, lay, _node, null)</a>;
    }
}
</pre>

<pre class="prettyprint linenums lang-java">
public class Globals {
    protected static Editor _curEditor;

    public static Editor <a name="curEditor">curEditor()</a> {
        return _curEditor;
    } <a href="#rcurEditor">//呼び出し元に戻る</a>
}
</pre>

<pre class="prettyprint linenums lang-java">
public class Editor implements Serializable, MouseListener,
        MouseMotionListener, KeyListener {
    protected LayerManager _layerManager = new LayerManager(this);

    public LayerManager <a name="getLayerManager">getLayerManager()</a> {
        return _layerManager;
    } <a href="#rgetLayerManager">//呼び出し元に戻る</a>

    public GraphNodeRenderer <a name="getGraphNodeRenderer">getGraphNodeRenderer()</a> {
        Layer active = _layerManager.<a href="#getActiveLayer" name="rgetActiveLayer">getActiveLayer()</a>;
        return ((LayerPerspective) active).<a href="#getGraphNodeRenderer2" name="rgetGraphNodeRenderer2">getGraphNodeRenderer()</a>;
    } <a href="#rgetGraphNodeRenderer">//呼び出し元に戻る</a>
}
</pre>

<pre class="prettyprint linenums lang-java">
public class LayerManager implements java.io.Serializable {
    private Layer _activeLayer;

    public Layer <a name="getActiveLayer">getActiveLayer()</a><a name="getActiveLayer2"></a> {
        return _activeLayer;
    } <a href="#rgetActiveLayer">//呼び出し元(Editorクラス10行目)に戻る</a>, <a href="#rgetActiveLayer2">呼び出し元(ModePlaceクラス10行目)に戻る</a>
}
</pre>

<pre class="prettyprint linenums lang-java">
public class LayerPerspectiveMutable extends LayerPerspective {

    public void <a name="add">add(Fig fig)</a> {
        <a href="#add2" name="radd2">super.add(fig)</a>;
    } <a href="#radd">//呼び出し元に戻る</a>
}
</pre>

<pre class="prettyprint linenums lang-java">
public class LayerPerspective extends LayerDiagram implements GraphListener {
    private GraphNodeRenderer _nodeRenderer = new DefaultGraphNodeRenderer();

    public GraphNodeRenderer <a name="getGraphNodeRenderer2">getGraphNodeRenderer()</a> {
        return _nodeRenderer;
    } <a href="#rgetGraphNodeRenderer2">//呼び出し元に戻る</a>
}
</pre>
    
<pre class="prettyprint linenums lang-java">
public class LayerDiagram extends Layer {
    private List&lt;Fig&gt; contents = new ArrayList&lt;Fig&gt;();

    public void <a name="add2">add(Fig f)</a> {
        contents.add(f);
    } <a href="#radd2">//呼び出し元に戻る</a>
}
</pre>
    
<pre class="prettyprint linenums lang-java">
public abstract class UmlDiagramRenderer
    implements GraphNodeRenderer, GraphEdgeRenderer {
}

public class ClassDiagramRenderer extends UmlDiagramRenderer {

    public FigNode <a name="getFigNodeFor">getFigNodeFor(GraphModel gm, Layer lay,
				 Object node, Map styleAttributes)</a> {
        FigNodeModelElement figNode;
        figNode = (FigNodeModelElement) ((UMLDiagram) diag)
                .drop(node, null);
        lay.<a href="#add" name="radd">add(figNode)</a>;
    } <a href="#rgetFigNodeFor">//呼び出し元に戻る</a>
}

</pre>
<!/div>
<p style="margin-bottom:3em;"></p>
<a href="ProblemA1-code2.html">選択機能へはこちら</a>
<p style="margin-bottom:50em;"></p>
<!/div>
</body>

</body>
